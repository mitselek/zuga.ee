---
interface Props {
  currentLang: string;
  currentSlug: string;
  translations?: Array<{ language: string; slug: string }>;
}

const { currentLang, currentSlug, translations = [] } = Astro.props;

const languages = [
  { code: 'et', label: 'ET' },
  { code: 'en', label: 'EN' },
];
---

<div class="flex gap-2">
  {languages.filter(lang => lang.code !== currentLang).map((lang) => {
    const translation = translations.find(t => t.language === lang.code);
    // For homepage (index), just use language code without slug
    const href = translation
      ? `/${lang.code}/${translation.slug}`
      : (currentSlug === 'index' ? `/${lang.code}/` : `/${lang.code}/${currentSlug}`);

    return (
      <a
        href={href}
        class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all shadow-lg bg-white/80 backdrop-blur-md text-gray-600 hover:bg-white hover:text-gray-900 hover:ring-2 hover:ring-gray-300"
        aria-label={`Switch to ${lang.label}`}
      >
        {lang.label}
      </a>
    );
  })}
</div>
