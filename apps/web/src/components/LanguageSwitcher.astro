---
interface Props {
  currentLang: string;
  currentSlug: string;
  translations?: Array<{ language: string; slug: string }>;
}

const { currentLang, currentSlug, translations = [] } = Astro.props;

const languages = [
  { code: 'et', label: 'ET' },
  { code: 'en', label: 'EN' },
];
---

<div class="flex gap-2">
  {languages.map((lang) => {
    const translation = translations.find(t => t.language === lang.code);
    const href = translation 
      ? `/${lang.code}/${translation.slug}`
      : `/${lang.code}/${currentSlug}`;
    const isActive = currentLang === lang.code;
    
    return (
      <a
        href={href}
        class:list={[
          "px-4 py-2 rounded-md text-sm font-semibold transition-all border",
          isActive 
            ? "bg-accent text-primary border-accent shadow-md" 
            : "bg-white text-gray-700 border-gray-300 hover:border-accent hover:text-accent"
        ]}
        aria-current={isActive ? "page" : undefined}
        aria-label={`Switch to ${lang.label}`}
      >
        {lang.label}
      </a>
    );
  })}
</div>
