---
interface Props {
  title: string;
  description?: string;
  href: string;
  image?: string;
  category?: string;
  subcategory?: string;
  date?: string;
}

const { title, description, href, image, category, subcategory, date } = Astro.props;
const imageUrl = image || '/placeholder.svg';
---

<a href={href} class="content-card group block overflow-hidden rounded-lg border border-slate-200 bg-white shadow-sm transition-all hover:shadow-xl hover:scale-[1.02]">
  <div class="aspect-video w-full overflow-hidden bg-slate-100">
    <img
      src={imageUrl}
      alt={title}
      class="h-full w-full object-cover transition-transform group-hover:scale-105"
      loading="lazy"
    />
  </div>
  <div class="p-6">
    {(category || subcategory || date) && (
      <div class="mb-2 flex flex-wrap gap-2 text-xs text-slate-500">
        {category && (
          <span class="rounded-full bg-slate-100 px-2 py-1">{category}</span>
        )}
        {subcategory && (
          <span class="rounded-full bg-slate-100 px-2 py-1">{subcategory}</span>
        )}
        {date && (
          <span class="rounded-full bg-slate-100 px-2 py-1">{date}</span>
        )}
      </div>
    )}
    <h3 class="mb-2 text-xl font-semibold text-slate-900 group-hover:text-indigo-600 transition-colors">
      {title}
    </h3>
    {description && (
      <p class="text-slate-600 line-clamp-3">
        {description}
      </p>
    )}
  </div>
</a>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
