---
interface AudioItem {
  platform: 'soundcloud';
  track_id: string;
  title?: string;
  url: string;
}

interface Props {
  audio: AudioItem[];
}

const { audio } = Astro.props;
---

{audio && audio.length > 0 && (
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {audio.map((track) => (
      <div class="rounded-lg overflow-hidden shadow-lg bg-white">
        {track.title && (
          <div class="px-4 py-3 bg-slate-100 border-b border-slate-200">
            <h4 class="text-base font-semibold text-slate-900">{track.title}</h4>
          </div>
        )}
        <div class="p-2">
          <iframe
            width="100%"
            height="166"
            scrolling="no"
            frameborder="no"
            allow="autoplay"
            src={track.url}
            title={track.title || 'Audio track'}
            loading="lazy"
            class="w-full"
          ></iframe>
        </div>
      </div>
    ))}
  </div>
)}
